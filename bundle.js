!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={Debug:{SHOW_COLLIDERS:!1},Game:{OFFSET_SPEED:.4,MAX_TIME_TICK:1e3/60,SCREEN_BUFFER:50,GROUND_BUFFER:10,MIN_OBSTACLE_DISTANCE:400,JUMP_KEY:32},Player:{STEP_SPEED:.02,JUMP_DISTANCE:250,JUMP_HEIGHT:80},Score:{FACTOR:.1},Assets:{HREF:"assets/"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.rand=function(t,e){return Math.random()*(e-t)+t},t}();e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),u=n(8),l=function(t){function e(e,n){var i=t.call(this,n)||this;return i.context=e,i}return r(e,t),e.prototype.preload=function(){return o(this,void 0,void 0,(function(){var e=this;return a(this,(function(n){switch(n.label){case 0:return[4,t.prototype.preload.call(this)];case 1:return n.sent(),[2,new Promise((function(t){e.pixelMap=new u.default(e.context,e.getImage()),t()}))]}}))}))},e.prototype.getPixelMap=function(){return this.pixelMap},e}(s.default);e.default=l},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.image=new Image,this.link=t}return t.prototype.preload=function(){return i(this,void 0,void 0,(function(){var t,e,n;return r(this,(function(i){return e=(t=this).image,n=t.link,[2,new Promise((function(t){e.src=n,e.onload=function(){t()}}))]}))}))},t.prototype.getImage=function(){return this.image},t}();e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),a=n(2),s=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.createSprite=function(t,e){return new a.default(t,e)},e.prototype.getPixelMap=function(){return this.sprites[this.currentImage].getPixelMap()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);document.addEventListener("DOMContentLoaded",(function(){window.__game=new i.default}))},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),s=n(10),u=n(11),l=n(12),c=n(13),f=n(1),h=n(0),p=n(14),d=n(15),y=function(){function t(){this.preloaded=!1,this.requestedFrame=!1,this.canvas=document.getElementById("game"),this.context=this.canvas.getContext("2d"),this.keyHandler=new c.default,this.startGame()}return t.prototype.startGame=function(){var t=this;this.reset(),this.initObjects().then((function(){t.draw(),t.requestedFrame||(requestAnimationFrame(t.step.bind(t)),t.requestedFrame=!0)}))},t.prototype.getDefaultDrawableOptions=function(){var t=this;return{context:this.context,getOffset:function(){return t.offset},width:this.canvas.width,height:this.canvas.height}},t.prototype.initObjects=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.preloaded?[3,3]:[4,a.default.preload(this.context)];case 1:return t.sent(),[4,l.default.preload(this.context)];case 2:t.sent(),this.preloaded=!0,t.label=3;case 3:return this.context.imageSmoothingEnabled=!1,this.player=new a.default(i(i({},this.getDefaultDrawableOptions()),{left:10,bottom:h.default.Game.GROUND_BUFFER})),this.background=new s.default(i({},this.getDefaultDrawableOptions())),this.score=new u.default(i(i({},this.getDefaultDrawableOptions()),{left:this.canvas.width-10,top:5})),this.frameCounter=new p.default(i(i({},this.getDefaultDrawableOptions()),{top:5})),[2]}}))}))},t.prototype.updateObstacles=function(){this.offset>this.nextObstacle&&this.lastTick>this.minTickObstable&&(f.default.rand(1,100)>30&&(this.minTickObstable=this.lastTick+f.default.rand(500,f.default.rand(1500,2500))),this.obstacles.push(new l.default(i(i({},this.getDefaultDrawableOptions()),{left:20*f.default.rand(.8,4),bottom:h.default.Game.GROUND_BUFFER}))),this.nextObstacle=this.offset+f.default.rand(h.default.Game.MIN_OBSTACLE_DISTANCE,this.canvas.width))},t.prototype.removeOldObstacles=function(){for(var t=0;this.obstacles.length>t&&this.obstacles[t].getGameObject().x<-h.default.Game.SCREEN_BUFFER;)t++;t>0&&this.obstacles.splice(0,t)},t.prototype.draw=function(){this.clear(),this.background.draw();for(var t=0;t<this.obstacles.length;t++){var e=this.obstacles[t];e.draw(),h.default.Debug.SHOW_COLLIDERS&&e.drawColliders()}this.player.draw(),this.score.draw(),this.frameCounter.draw(),h.default.Debug.SHOW_COLLIDERS&&this.player.drawColliders()},t.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.checkCollision=function(){for(var t=this.obstacles.length>2?2:this.obstacles.length,e=0;e<t;e++){var n=this.obstacles[e];if(d.default.test(this.player.getPixelMap(),this.player.getGameObject(),n.getPixelMap(),n.getGameObject()))return this.running=!1,void(this.finished=!0)}},t.prototype.reset=function(){this.obstacles=[],this.nextObstacle=0,this.minTickObstable=0,this.offset=0,this.lastTick=null,this.running=!1,this.finished=!1},t.prototype.step=function(t){this.running&&this.lastTick?(this.frameCounter.refresh(),this.offset+=Math.min(t-this.lastTick,h.default.Game.MAX_TIME_TICK)*h.default.Game.OFFSET_SPEED,this.removeOldObstacles(),this.updateObstacles(),!this.player.isJumping()&&this.keyHandler.isKeyPressed(h.default.Game.JUMP_KEY)&&this.player.startJump(),this.draw(),this.checkCollision()):this.keyHandler.isKeyPressed(h.default.Game.JUMP_KEY)&&(this.finished?this.startGame():this.running||(this.running=!0)),this.lastTick=t,requestAnimationFrame(this.step.bind(this))},t}();e.default=y},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(2),u=n(4),l=function(){function t(t){this.options=t,this.initialGameObject={width:67,height:56,x:t.left,y:t.height-t.bottom-56},this.gameObject=i({},this.initialGameObject),this.jumpStart=null}return t.loadAnimations=function(t){null==this.animations&&(this.animations={run:new u.default({context:t,prefix:"player",name:"run",length:6,extension:"png",delay:100}),jump:new s.default(t,a.default.Assets.HREF+"player/jump_1.png")})},t.preload=function(e){return r(this,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:if(null!=t.animations)return[2];t.loadAnimations(e),n=Object.keys(t.animations),i=0,r.label=1;case 1:return i<n.length?[4,t.animations[n[i]].preload()]:[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},t.prototype.isJumping=function(){return null!==this.jumpStart&&this.jumpDistanceRemaining()>0},t.prototype.jumpDistanceRemaining=function(){return null===this.jumpStart?0:this.jumpStart+a.default.Player.JUMP_DISTANCE-this.options.getOffset()},t.prototype.startJump=function(){this.jumpStart=this.options.getOffset()},t.prototype.getJumpHeight=function(){var t=this.jumpDistanceRemaining();if(t>0){var e=a.default.Player.JUMP_DISTANCE/2;t>=e&&(t-=a.default.Player.JUMP_DISTANCE);var n=Math.abs(t/e);return a.default.Player.JUMP_HEIGHT*n}return 0},t.prototype.getPixelMap=function(){return this.getCurrentAnimation().getPixelMap()},t.prototype.getGameObject=function(){return this.gameObject},t.prototype.calculatePosition=function(){this.gameObject.y=this.initialGameObject.y-this.getJumpHeight()},t.prototype.getCurrentAnimation=function(){return this.isJumping()?t.animations.jump:t.animations.run},t.prototype.draw=function(){this.calculatePosition();var t=this.options.context,e=this.gameObject,n=e.x,i=e.y,r=e.height,o=e.width;t.drawImage(this.getCurrentAnimation().getImage(),n,i,o,r)},t.prototype.drawColliders=function(){var t=this.options.context,e=this.gameObject,n=e.x,i=e.y;t.fillStyle="#ff0000";for(var r=this.getPixelMap(),o=this.getPixelMap().getPixelMap(),a=0;a<o.length;a++){var s=o[a];t.fillRect(n+s.x,i+s.y,r.getResolution(),r.getResolution())}},t.animations=null,t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){void 0===n&&(n=3),this.context=t,this.image=e,this.resolution=n,this.generate()}return t.prototype.generate=function(){var t=[];this.context.drawImage(this.image,0,0,this.image.width,this.image.height);for(var e=0;e<this.image.width;e+=this.resolution)for(var n=0;n<this.image.height;n+=this.resolution){0!=this.context.getImageData(n,e,this.resolution,this.resolution).data[3]&&t.push({x:n,y:e})}this.context.clearRect(0,0,this.image.width,this.image.height),this.pixelMap=t},t.prototype.getPixelMap=function(){return this.pixelMap},t.prototype.getResolution=function(){return this.resolution},t}();e.default=i},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=function(){function t(t){this.sprites=[];for(var e=t.prefix,n=t.name,i=t.length,r=t.extension,o=t.delay,s=t.context,u=a.default.Assets.HREF+(e?e+"/":"")+n+"_",l=0;l<i;l++){var c=u+(l+1)+"."+r;this.sprites.push(this.createSprite(s,c))}this.context=s,this.lastTick=(new Date).getTime(),this.currentImage=0,this.delay=o}return t.prototype.createSprite=function(t,e){return new o.default(e)},t.prototype.preload=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,Promise.all(this.sprites.map((function(t){return t.preload()})))]}))}))},t.prototype.getSprite=function(){var t=(new Date).getTime();return t-this.lastTick>this.delay&&(this.currentImage++,this.currentImage>this.sprites.length-1&&(this.currentImage=0),this.lastTick=t),this.sprites[this.currentImage]},t.prototype.getImage=function(){return this.getSprite().getImage()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.options=t,this.size=20,this.generateBits()}return t.prototype.generateBits=function(){var t,e,n=[],r=this.options,o=r.height,a=r.width;for(e=o-10;e<=o;e+=8)for(t=0+i.default.rand(0,100);t<=a;t+=i.default.rand(100,200))n.push({x:t,y:e,width:i.default.rand(2,4)});this.bits=n},t.prototype.draw=function(){var t=this.bits,e=this.size,n=this.options,i=n.context,r=n.getOffset,o=n.height,a=n.width;i.fillStyle="#F2D16B",i.fillRect(0,o-e,a,e),i.fillStyle="#856501",i.fillRect(0,o-e,a,1);for(var s=t.length-1;s>=0;s--)i.fillRect(a-(t[s].x+r())%a,t[s].y,t[s].width,1)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t){this.options=t,this.gameObject={x:t.width-10,y:t.top+16,width:50,height:16}}return t.prototype.getScore=function(){return Math.floor(this.options.getOffset()*i.default.Score.FACTOR)},t.prototype.getScoreText=function(){return String(this.getScore())},t.prototype.draw=function(){var t=this.options.context,e=this.gameObject,n=e.x,i=e.y;t.fillStyle="#000000",t.font="16px Courier",t.textAlign="right",t.fillText(this.getScoreText(),n,i)},t}();e.default=r},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(1),u=n(4),l=function(){function t(e){this.animationId=Math.round(s.default.rand(0,t.animations.length-1)),this.options=e,this.initialGameObject={width:25,height:34,x:e.width+e.getOffset()+(e.left||0)+a.default.Game.SCREEN_BUFFER,y:e.height-e.bottom-40},this.gameObject=i({},this.initialGameObject)}return t.loadAnimations=function(t){null==this.animations&&(this.animations=[new u.default({context:t,prefix:"obstacles",name:"meteor",length:2,extension:"png",delay:250})])},t.preload=function(e){return r(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:if(null!=t.animations)return[2];t.loadAnimations(e),n=0,i.label=1;case 1:return n<t.animations.length?[4,t.animations[n].preload()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.getGameObject=function(){return this.gameObject},t.prototype.getPixelMap=function(){return this.getCurrentAnimation().getPixelMap()},t.prototype.calculatePosition=function(){this.gameObject.x=this.initialGameObject.x-this.options.getOffset()},t.prototype.getCurrentAnimation=function(){return t.animations[this.animationId]},t.prototype.draw=function(){this.calculatePosition();var t=this.options.context,e=this.gameObject,n=e.x,i=e.y,r=e.height,o=e.width;t.drawImage(this.getCurrentAnimation().getImage(),n,i,o,r)},t.prototype.drawColliders=function(){var t=this.options.context,e=this.gameObject,n=e.x,i=e.y;t.fillStyle="#00ff00";for(var r=this.getPixelMap(),o=this.getPixelMap().getPixelMap(),a=0;a<o.length;a++){var s=o[a];t.fillRect(n+s.x,i+s.y,r.getResolution(),r.getResolution())}},t.animations=null,t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.pressedKeys={},document.addEventListener("keyup",(function(e){return t.onKeyUp(e)}),!1),document.addEventListener("keydown",(function(e){return t.onKeyDown(e)}),!1)}return t.prototype.onKeyDown=function(t){this.pressedKeys[t.keyCode]=!0},t.prototype.onKeyUp=function(t){this.pressedKeys[t.keyCode]=!1},t.prototype.isKeyPressed=function(t){return void 0!==this.pressedKeys[t]&&this.pressedKeys[t]},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.fps=0,this.options=t,this.gameObject={x:10,y:t.top+16,width:50,height:16}}return t.prototype.refresh=function(){if(!this.lastCalledTime)return this.lastCalledTime=performance.now(),void(this.fps=0);var t=(performance.now()-this.lastCalledTime)/1e3;this.lastCalledTime=performance.now(),this.fps=1/t},t.prototype.draw=function(){var t=this.options.context,e=this.gameObject,n=e.x,i=e.y;t.fillStyle="#000000",t.font="9px Arial",t.textAlign="left",t.fillText(Math.round(this.fps)+" fps",n,i)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.boxTest=function(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)},t.test=function(e,n,i,r){for(var o=e.getPixelMap(),a=(e.getResolution(),i.getPixelMap()),s=i.getResolution(),u=0;u<o.length;u++)for(var l=o[u],c={x:l.x+n.x,y:l.y+n.y,width:s,height:s},f=0;f<a.length;f++){var h=a[f],p={x:h.x+r.x,y:h.y+r.y,width:s,height:s};if(t.boxTest(c,p))return!0}},t}();e.default=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9Db25maWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9IZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9Db2xsaWRlYWJsZVNwcml0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL1Nwcml0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL0NvbGxpZGVhYmxlQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9HYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvUGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvUGl4ZWxNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9BbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9CYWNrZ3JvdW5kLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvU2NvcmVCb2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL09ic3RhY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvS2V5SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL0ZyYW1lQ291bnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL0NvbGxpc2lvbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRlYnVnIiwiU0hPV19DT0xMSURFUlMiLCJHYW1lIiwiT0ZGU0VUX1NQRUVEIiwiTUFYX1RJTUVfVElDSyIsIlNDUkVFTl9CVUZGRVIiLCJHUk9VTkRfQlVGRkVSIiwiTUlOX09CU1RBQ0xFX0RJU1RBTkNFIiwiSlVNUF9LRVkiLCJQbGF5ZXIiLCJTVEVQX1NQRUVEIiwiSlVNUF9ESVNUQU5DRSIsIkpVTVBfSEVJR0hUIiwiU2NvcmUiLCJGQUNUT1IiLCJBc3NldHMiLCJIUkVGIiwicmFuZCIsIm1pbiIsIm1heCIsIk1hdGgiLCJyYW5kb20iLCJjb250ZXh0IiwibGluayIsInByZWxvYWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInBpeGVsTWFwIiwiZ2V0SW1hZ2UiLCJnZXRQaXhlbE1hcCIsInRoaXMiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwib25sb2FkIiwib3B0aW9ucyIsImNyZWF0ZVNwcml0ZSIsInNwcml0ZXMiLCJjdXJyZW50SW1hZ2UiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJwcmVsb2FkZWQiLCJyZXF1ZXN0ZWRGcmFtZSIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImtleUhhbmRsZXIiLCJzdGFydEdhbWUiLCJyZXNldCIsImluaXRPYmplY3RzIiwidGhlbiIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGVwIiwiZ2V0RGVmYXVsdERyYXdhYmxlT3B0aW9ucyIsImdldE9mZnNldCIsIm9mZnNldCIsIndpZHRoIiwiaGVpZ2h0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwicGxheWVyIiwibGVmdCIsImJvdHRvbSIsImJhY2tncm91bmQiLCJzY29yZSIsInRvcCIsImZyYW1lQ291bnRlciIsInVwZGF0ZU9ic3RhY2xlcyIsIm5leHRPYnN0YWNsZSIsImxhc3RUaWNrIiwibWluVGlja09ic3RhYmxlIiwib2JzdGFjbGVzIiwicHVzaCIsInJlbW92ZU9sZE9ic3RhY2xlcyIsImNvdW50IiwibGVuZ3RoIiwiZ2V0R2FtZU9iamVjdCIsIngiLCJzcGxpY2UiLCJjbGVhciIsIm9ic3RhY2xlIiwiZHJhd0NvbGxpZGVycyIsImNsZWFyUmVjdCIsImNoZWNrQ29sbGlzaW9uIiwic2l6ZSIsInRlc3QiLCJydW5uaW5nIiwiZmluaXNoZWQiLCJ0aW1lc3RhbXAiLCJyZWZyZXNoIiwiaXNKdW1waW5nIiwiaXNLZXlQcmVzc2VkIiwic3RhcnRKdW1wIiwiaW5pdGlhbEdhbWVPYmplY3QiLCJ5IiwiZ2FtZU9iamVjdCIsImp1bXBTdGFydCIsImxvYWRBbmltYXRpb25zIiwiYW5pbWF0aW9ucyIsInJ1biIsInByZWZpeCIsImV4dGVuc2lvbiIsImRlbGF5IiwianVtcCIsImtleXMiLCJqdW1wRGlzdGFuY2VSZW1haW5pbmciLCJnZXRKdW1wSGVpZ2h0IiwiZGlzdGFuY2VSZW1haW5pbmciLCJtYXhQb2ludCIsImFyY1BvcyIsImFicyIsImdldEN1cnJlbnRBbmltYXRpb24iLCJjYWxjdWxhdGVQb3NpdGlvbiIsImRyYXdJbWFnZSIsImZpbGxTdHlsZSIsInBpeGVscyIsInBpeGVsIiwiZmlsbFJlY3QiLCJnZXRSZXNvbHV0aW9uIiwicmVzb2x1dGlvbiIsImdlbmVyYXRlIiwiZ2V0SW1hZ2VEYXRhIiwiZGF0YSIsInBhdGhQcmVmaXgiLCJEYXRlIiwiZ2V0VGltZSIsImFsbCIsIm1hcCIsInNwcml0ZSIsImdldFNwcml0ZSIsIm5ld1RpbWUiLCJnZW5lcmF0ZUJpdHMiLCJiaXRzIiwiZ2V0U2NvcmUiLCJmbG9vciIsImdldFNjb3JlVGV4dCIsIlN0cmluZyIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsImFuaW1hdGlvbklkIiwicm91bmQiLCJPYnN0YWNsZSIsInByZXNzZWRLZXlzIiwiZSIsIm9uS2V5VXAiLCJvbktleURvd24iLCJrZXlDb2RlIiwiZnBzIiwibGFzdENhbGxlZFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImRlbHRhIiwiYm94VGVzdCIsInNvdXJjZSIsInRhcmdldCIsInNvdXJjZVBvcyIsInRhcmdldFBvcyIsInNvdXJjZU1hcCIsInRhcmdldE1hcCIsInRhcmdldFJlc29sdXRpb24iLCJzb3VyY2VQaXhlbCIsInNvdXJjZUFyZWEiLCJ0YXJnZXRQaXhlbCIsInRhcmdldEFyZWEiLCJDb2xsaXNpb24iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FB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a0JFLEdBTXZCLElBTEEsSUFBTUMsRUFBWUosRUFBTzlILGNBRW5CbUksR0FEbUJMLEVBQU9wQyxnQkFDZHFDLEVBQU8vSCxlQUNuQm9JLEVBQW1CTCxFQUFPckMsZ0JBRXZCeEgsRUFBSSxFQUFHQSxFQUFJZ0ssRUFBVW5GLE9BQVE3RSxJQVdyQyxJQVZBLElBQU1tSyxFQUFjSCxFQUFVaEssR0FFeEJvSyxFQUFhLENBQ2xCckYsRUFBR29GLEVBQVlwRixFQUFJK0UsRUFBVS9FLEVBQzdCaUIsRUFBR21FLEVBQVluRSxFQUFJOEQsRUFBVTlELEVBQzdCckMsTUFBT3VHLEVBQ1B0RyxPQUFRc0csR0FJQS9LLEVBQUksRUFBR0EsRUFBSThLLEVBQVVwRixPQUFRMUYsSUFBSyxDQUMxQyxJQUFNa0wsRUFBY0osRUFBVTlLLEdBRXhCbUwsRUFBYSxDQUNsQnZGLEVBQUdzRixFQUFZdEYsRUFBSWdGLEVBQVVoRixFQUM3QmlCLEVBQUdxRSxFQUFZckUsRUFBSStELEVBQVUvRCxFQUM3QnJDLE1BQU91RyxFQUNQdEcsT0FBUXNHLEdBSVQsR0FBSUssRUFBVVosUUFBUVMsRUFBWUUsR0FDakMsT0FBTyxJQUtaLEVBL0NBLEciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiY29uc3QgQ29uZmlnID0ge1xyXG5cdERlYnVnOiB7XHJcblx0XHRTSE9XX0NPTExJREVSUzogZmFsc2UsXHJcblx0fSxcclxuXHRHYW1lOiB7XHJcblx0XHRPRkZTRVRfU1BFRUQ6IDAuNCxcclxuXHRcdE1BWF9USU1FX1RJQ0s6IDEwMDAgLyA2MCxcclxuXHRcdFNDUkVFTl9CVUZGRVI6IDUwLFxyXG5cdFx0R1JPVU5EX0JVRkZFUjogMTAsXHJcblx0XHRNSU5fT0JTVEFDTEVfRElTVEFOQ0U6IDQwMCxcclxuXHRcdEpVTVBfS0VZOiAzMixcclxuXHR9LFxyXG5cdFBsYXllcjoge1xyXG5cdFx0U1RFUF9TUEVFRDogMC4wMixcclxuXHRcdEpVTVBfRElTVEFOQ0U6IDI1MCxcclxuXHRcdEpVTVBfSEVJR0hUOiA4MCxcclxuXHR9LFxyXG5cdFNjb3JlOiB7XHJcblx0XHRGQUNUT1I6IDAuMSxcclxuXHR9LFxyXG5cdEFzc2V0czoge1xyXG5cdFx0SFJFRjogJ2Fzc2V0cy8nLFxyXG5cdH0sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb25maWc7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVyIHtcclxuXHRzdGF0aWMgcmFuZChtaW4sIG1heCkge1xyXG5cdFx0cmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuXHR9XHJcbn0iLCJpbXBvcnQgU3ByaXRlIGZyb20gXCIuL1Nwcml0ZVwiO1xyXG5pbXBvcnQgUGl4ZWxNYXAgZnJvbSBcIi4vUGl4ZWxNYXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxpZGVhYmxlU3ByaXRlIGV4dGVuZHMgU3ByaXRlIHtcclxuXHRwcm90ZWN0ZWQgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cdHByaXZhdGUgcGl4ZWxNYXA6IFBpeGVsTWFwO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGxpbms6IHN0cmluZykge1xyXG5cdFx0c3VwZXIobGluayk7XHJcblxyXG5cdFx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHByZWxvYWQoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRcdGF3YWl0IHN1cGVyLnByZWxvYWQoKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdFx0dGhpcy5waXhlbE1hcCA9IG5ldyBQaXhlbE1hcCh0aGlzLmNvbnRleHQsIHRoaXMuZ2V0SW1hZ2UoKSk7XHJcblx0XHRcdHJlc29sdmUoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Z2V0UGl4ZWxNYXAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5waXhlbE1hcDtcclxuXHR9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGUge1xyXG5cdHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcclxuXHRwcml2YXRlIGxpbms6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IobGluazogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmxpbmsgPSBsaW5rO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcHJlbG9hZCgpOiBQcm9taXNlPGFueT4ge1xyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHRpbWFnZSxcclxuXHRcdFx0bGluayxcclxuXHRcdH0gPSB0aGlzO1xyXG5cclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG5cdFx0XHRpbWFnZS5zcmMgPSBsaW5rO1xyXG5cdFx0XHRpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXRJbWFnZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmltYWdlO1xyXG5cdH1cclxufSIsImltcG9ydCBBbmltYXRpb24sIHtBbmltYXRpb25PcHRpb25zfSBmcm9tIFwiLi9BbmltYXRpb25cIjtcclxuaW1wb3J0IFBpeGVsTWFwIGZyb20gXCIuL1BpeGVsTWFwXCI7XHJcbmltcG9ydCBTcHJpdGUgZnJvbSBcIi4vU3ByaXRlXCI7XHJcbmltcG9ydCBDb2xsaWRlYWJsZVNwcml0ZSBmcm9tIFwiLi9Db2xsaWRlYWJsZVNwcml0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGlkZWFibGVBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb24ge1xyXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnM6IEFuaW1hdGlvbk9wdGlvbnMpIHtcclxuXHRcdHN1cGVyKG9wdGlvbnMpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNyZWF0ZVNwcml0ZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGxpbms6IHN0cmluZyk6IFNwcml0ZSB7XHJcblx0XHRyZXR1cm4gbmV3IENvbGxpZGVhYmxlU3ByaXRlKGNvbnRleHQsIGxpbmspO1xyXG5cdH1cclxuXHJcblx0Z2V0UGl4ZWxNYXAoKTogUGl4ZWxNYXAge1xyXG5cdFx0cmV0dXJuICg8Q29sbGlkZWFibGVTcHJpdGU+dGhpcy5zcHJpdGVzW3RoaXMuY3VycmVudEltYWdlXSkuZ2V0UGl4ZWxNYXAoKTtcclxuXHR9XHJcblxyXG59IiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vR2FtZVwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG5cdHdpbmRvd1snX19nYW1lJ10gPSBuZXcgR2FtZSgpO1xyXG59KTsiLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgQmFja2dyb3VuZCBmcm9tIFwiLi9CYWNrZ3JvdW5kXCI7XHJcbmltcG9ydCBTY29yZUJvYXJkIGZyb20gXCIuL1Njb3JlQm9hcmRcIjtcclxuaW1wb3J0IE9ic3RhY2xlIGZyb20gXCIuL09ic3RhY2xlXCI7XHJcbmltcG9ydCBLZXlIYW5kbGVyIGZyb20gXCIuL0tleUhhbmRsZXJcIjtcclxuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi9IZWxwZXJcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9Db25maWdcIjtcclxuaW1wb3J0IERyYXdhYmxlT3B0aW9ucyBmcm9tIFwiLi9pbnRlcmZhY2VzL0RyYXdhYmxlT3B0aW9uc1wiO1xyXG5pbXBvcnQgRnJhbWVDb3VudGVyIGZyb20gXCIuL0ZyYW1lQ291bnRlclwiO1xyXG5pbXBvcnQgQ29sbGlzaW9uIGZyb20gXCIuL0NvbGxpc2lvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cdHByaXZhdGUgbmV4dE9ic3RhY2xlOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBvZmZzZXQ6IG51bWJlcjtcclxuXHRwcml2YXRlIGxhc3RUaWNrOiBudW1iZXI7XHJcblx0cHJpdmF0ZSBtaW5UaWNrT2JzdGFibGU6IG51bWJlcjtcclxuXHRwcml2YXRlIHJ1bm5pbmc6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBmaW5pc2hlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIHBsYXllcjogUGxheWVyO1xyXG5cdHByaXZhdGUgYmFja2dyb3VuZDogQmFja2dyb3VuZDtcclxuXHRwcml2YXRlIHNjb3JlOiBTY29yZUJvYXJkO1xyXG5cdHByaXZhdGUgb2JzdGFjbGVzOiBPYnN0YWNsZVtdO1xyXG5cdHByaXZhdGUgZnJhbWVDb3VudGVyOiBGcmFtZUNvdW50ZXI7XHJcblx0cHJpdmF0ZSBrZXlIYW5kbGVyOiBLZXlIYW5kbGVyO1xyXG5cdHByaXZhdGUgcHJlbG9hZGVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSByZXF1ZXN0ZWRGcmFtZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVwiKTtcclxuXHRcdHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcblx0XHR0aGlzLmtleUhhbmRsZXIgPSBuZXcgS2V5SGFuZGxlcigpO1xyXG5cclxuXHRcdHRoaXMuc3RhcnRHYW1lKCk7XHJcblx0fVxyXG5cclxuXHRzdGFydEdhbWUoKSB7XHJcblx0XHR0aGlzLnJlc2V0KCk7XHJcblxyXG5cdFx0dGhpcy5pbml0T2JqZWN0cygpLnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmRyYXcoKTtcclxuXHJcblx0XHRcdGlmICghdGhpcy5yZXF1ZXN0ZWRGcmFtZSkge1xyXG5cdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0ZXAuYmluZCh0aGlzKSk7XHJcblx0XHRcdFx0dGhpcy5yZXF1ZXN0ZWRGcmFtZSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXREZWZhdWx0RHJhd2FibGVPcHRpb25zKCk6IERyYXdhYmxlT3B0aW9ucyB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjb250ZXh0OiB0aGlzLmNvbnRleHQsXHJcblx0XHRcdGdldE9mZnNldDogKCkgPT4gdGhpcy5vZmZzZXQsXHJcblx0XHRcdHdpZHRoOiB0aGlzLmNhbnZhcy53aWR0aCxcclxuXHRcdFx0aGVpZ2h0OiB0aGlzLmNhbnZhcy5oZWlnaHQsXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGluaXRPYmplY3RzKCkge1xyXG5cdFx0aWYgKCF0aGlzLnByZWxvYWRlZCkge1xyXG5cdFx0XHRhd2FpdCBQbGF5ZXIucHJlbG9hZCh0aGlzLmNvbnRleHQpO1xyXG5cdFx0XHRhd2FpdCBPYnN0YWNsZS5wcmVsb2FkKHRoaXMuY29udGV4dCk7XHJcblxyXG5cdFx0XHR0aGlzLnByZWxvYWRlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMucGxheWVyID0gbmV3IFBsYXllcih7XHJcblx0XHRcdC4uLnRoaXMuZ2V0RGVmYXVsdERyYXdhYmxlT3B0aW9ucygpLFxyXG5cdFx0XHRsZWZ0OiAxMCxcclxuXHRcdFx0Ym90dG9tOiBDb25maWcuR2FtZS5HUk9VTkRfQlVGRkVSLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmQoe1xyXG5cdFx0XHQuLi50aGlzLmdldERlZmF1bHREcmF3YWJsZU9wdGlvbnMoKSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuc2NvcmUgPSBuZXcgU2NvcmVCb2FyZCh7XHJcblx0XHRcdC4uLnRoaXMuZ2V0RGVmYXVsdERyYXdhYmxlT3B0aW9ucygpLFxyXG5cdFx0XHRsZWZ0OiB0aGlzLmNhbnZhcy53aWR0aCAtIDEwLFxyXG5cdFx0XHR0b3A6IDUsXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmZyYW1lQ291bnRlciA9IG5ldyBGcmFtZUNvdW50ZXIoe1xyXG5cdFx0XHQuLi50aGlzLmdldERlZmF1bHREcmF3YWJsZU9wdGlvbnMoKSxcclxuXHRcdFx0dG9wOiA1LFxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlT2JzdGFjbGVzKCkge1xyXG5cdFx0aWYgKCh0aGlzLm9mZnNldCA+IHRoaXMubmV4dE9ic3RhY2xlKSAmJiAodGhpcy5sYXN0VGljayA+IHRoaXMubWluVGlja09ic3RhYmxlKSkge1xyXG5cdFx0XHRpZiAoSGVscGVyLnJhbmQoMSwgMTAwKSA+IDMwKSB7XHJcblx0XHRcdFx0dGhpcy5taW5UaWNrT2JzdGFibGUgPSB0aGlzLmxhc3RUaWNrICsgSGVscGVyLnJhbmQoNTAwLCBIZWxwZXIucmFuZCgxNTAwLCAyNTAwKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMub2JzdGFjbGVzLnB1c2gobmV3IE9ic3RhY2xlKHtcclxuXHRcdFx0XHQuLi50aGlzLmdldERlZmF1bHREcmF3YWJsZU9wdGlvbnMoKSxcclxuXHRcdFx0XHRsZWZ0OiAyMCAqIEhlbHBlci5yYW5kKDAuOCwgNCksXHJcblx0XHRcdFx0Ym90dG9tOiBDb25maWcuR2FtZS5HUk9VTkRfQlVGRkVSLFxyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0XHR0aGlzLm5leHRPYnN0YWNsZSA9IHRoaXMub2Zmc2V0ICsgSGVscGVyLnJhbmQoQ29uZmlnLkdhbWUuTUlOX09CU1RBQ0xFX0RJU1RBTkNFLCB0aGlzLmNhbnZhcy53aWR0aCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW1vdmVPbGRPYnN0YWNsZXMoKSB7XHJcblx0XHRsZXQgY291bnQgPSAwO1xyXG5cclxuXHRcdHdoaWxlICh0aGlzLm9ic3RhY2xlcy5sZW5ndGggPiBjb3VudCAmJiB0aGlzLm9ic3RhY2xlc1tjb3VudF0uZ2V0R2FtZU9iamVjdCgpLnggPCAtQ29uZmlnLkdhbWUuU0NSRUVOX0JVRkZFUikge1xyXG5cdFx0XHRjb3VudCsrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb3VudCA+IDApXHJcblx0XHRcdHRoaXMub2JzdGFjbGVzLnNwbGljZSgwLCBjb3VudCk7XHJcblx0fVxyXG5cclxuXHRkcmF3KCkge1xyXG5cdFx0dGhpcy5jbGVhcigpO1xyXG5cclxuXHRcdHRoaXMuYmFja2dyb3VuZC5kcmF3KCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic3RhY2xlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBvYnN0YWNsZTogT2JzdGFjbGUgPSB0aGlzLm9ic3RhY2xlc1tpXTtcclxuXHJcblx0XHRcdG9ic3RhY2xlLmRyYXcoKTtcclxuXHRcdFx0aWYgKENvbmZpZy5EZWJ1Zy5TSE9XX0NPTExJREVSUykge1xyXG5cdFx0XHRcdG9ic3RhY2xlLmRyYXdDb2xsaWRlcnMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucGxheWVyLmRyYXcoKTtcclxuXHRcdHRoaXMuc2NvcmUuZHJhdygpO1xyXG5cdFx0dGhpcy5mcmFtZUNvdW50ZXIuZHJhdygpO1xyXG5cclxuXHRcdGlmIChDb25maWcuRGVidWcuU0hPV19DT0xMSURFUlMpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXIuZHJhd0NvbGxpZGVycygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y2xlYXIoKSB7XHJcblx0XHR0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tDb2xsaXNpb24oKSB7XHJcblx0XHRjb25zdCBzaXplID0gdGhpcy5vYnN0YWNsZXMubGVuZ3RoID4gMiA/IDIgOiB0aGlzLm9ic3RhY2xlcy5sZW5ndGg7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3Qgb2JzdGFjbGU6IE9ic3RhY2xlID0gdGhpcy5vYnN0YWNsZXNbaV07XHJcblxyXG5cdFx0XHRpZiAoQ29sbGlzaW9uLnRlc3QodGhpcy5wbGF5ZXIuZ2V0UGl4ZWxNYXAoKSwgdGhpcy5wbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLFxyXG5cdFx0XHRcdG9ic3RhY2xlLmdldFBpeGVsTWFwKCksIG9ic3RhY2xlLmdldEdhbWVPYmplY3QoKSkpIHtcclxuXHJcblx0XHRcdFx0dGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5maW5pc2hlZCA9IHRydWU7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMub2JzdGFjbGVzID0gW107XHJcblx0XHR0aGlzLm5leHRPYnN0YWNsZSA9IDA7XHJcblx0XHR0aGlzLm1pblRpY2tPYnN0YWJsZSA9IDA7XHJcblx0XHR0aGlzLm9mZnNldCA9IDA7XHJcblx0XHR0aGlzLmxhc3RUaWNrID0gbnVsbDtcclxuXHRcdHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5maW5pc2hlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0c3RlcCh0aW1lc3RhbXApIHtcclxuXHRcdGlmICh0aGlzLnJ1bm5pbmcgJiYgdGhpcy5sYXN0VGljaykge1xyXG5cdFx0XHR0aGlzLmZyYW1lQ291bnRlci5yZWZyZXNoKCk7XHJcblx0XHRcdHRoaXMub2Zmc2V0ICs9IE1hdGgubWluKCh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaWNrKSwgQ29uZmlnLkdhbWUuTUFYX1RJTUVfVElDSykgKiBDb25maWcuR2FtZS5PRkZTRVRfU1BFRUQ7XHJcblxyXG5cdFx0XHR0aGlzLnJlbW92ZU9sZE9ic3RhY2xlcygpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZU9ic3RhY2xlcygpO1xyXG5cclxuXHRcdFx0aWYgKCF0aGlzLnBsYXllci5pc0p1bXBpbmcoKSAmJiB0aGlzLmtleUhhbmRsZXIuaXNLZXlQcmVzc2VkKENvbmZpZy5HYW1lLkpVTVBfS0VZKSkge1xyXG5cdFx0XHRcdHRoaXMucGxheWVyLnN0YXJ0SnVtcCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmRyYXcoKTtcclxuXHRcdFx0dGhpcy5jaGVja0NvbGxpc2lvbigpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodGhpcy5rZXlIYW5kbGVyLmlzS2V5UHJlc3NlZChDb25maWcuR2FtZS5KVU1QX0tFWSkpIHtcclxuXHRcdFx0aWYgKHRoaXMuZmluaXNoZWQpIHtcclxuXHRcdFx0XHR0aGlzLnN0YXJ0R2FtZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKCF0aGlzLnJ1bm5pbmcpIHtcclxuXHRcdFx0XHR0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5sYXN0VGljayA9IHRpbWVzdGFtcDtcclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0ZXAuYmluZCh0aGlzKSk7XHJcblx0fTtcclxufSIsImltcG9ydCBEcmF3YWJsZU9wdGlvbnMgZnJvbSBcIi4vaW50ZXJmYWNlcy9EcmF3YWJsZU9wdGlvbnNcIjtcclxuaW1wb3J0IERyYXdhYmxlIGZyb20gXCIuL2ludGVyZmFjZXMvRHJhd2FibGVcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9Db25maWdcIjtcclxuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vaW50ZXJmYWNlcy9HYW1lT2JqZWN0XCI7XHJcbmltcG9ydCBDb2xsaWRlYWJsZVNwcml0ZSBmcm9tIFwiLi9Db2xsaWRlYWJsZVNwcml0ZVwiO1xyXG5pbXBvcnQgQ29sbGlkZWFibGVBbmltYXRpb24gZnJvbSBcIi4vQ29sbGlkZWFibGVBbmltYXRpb25cIjtcclxuaW1wb3J0IFBpeGVsTWFwIGZyb20gXCIuL1BpeGVsTWFwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgaW1wbGVtZW50cyBEcmF3YWJsZSB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBvcHRpb25zOiBEcmF3YWJsZU9wdGlvbnM7XHJcblx0cHJpdmF0ZSByZWFkb25seSBpbml0aWFsR2FtZU9iamVjdDogR2FtZU9iamVjdDtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGdhbWVPYmplY3Q6IEdhbWVPYmplY3Q7XHJcblx0cHJpdmF0ZSBqdW1wU3RhcnQ6IG51bWJlcjtcclxuXHRwcml2YXRlIHN0YXRpYyBhbmltYXRpb25zOiBPYmplY3QgPSBudWxsO1xyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBsb2FkQW5pbWF0aW9ucyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuXHRcdGlmICh0aGlzLmFuaW1hdGlvbnMgPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLmFuaW1hdGlvbnMgPSB7XHJcblx0XHRcdFx0cnVuOiBuZXcgQ29sbGlkZWFibGVBbmltYXRpb24oe1xyXG5cdFx0XHRcdFx0Y29udGV4dDogY29udGV4dCxcclxuXHRcdFx0XHRcdHByZWZpeDogJ3BsYXllcicsXHJcblx0XHRcdFx0XHRuYW1lOiAncnVuJyxcclxuXHRcdFx0XHRcdGxlbmd0aDogNixcclxuXHRcdFx0XHRcdGV4dGVuc2lvbjogJ3BuZycsXHJcblx0XHRcdFx0XHRkZWxheTogMTAwLFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdGp1bXA6IG5ldyBDb2xsaWRlYWJsZVNwcml0ZShjb250ZXh0LCBDb25maWcuQXNzZXRzLkhSRUYgKyAncGxheWVyL2p1bXBfMS5wbmcnKSxcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnM6IERyYXdhYmxlT3B0aW9ucykge1xyXG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHRcdHRoaXMuaW5pdGlhbEdhbWVPYmplY3QgPSB7XHJcblx0XHRcdHdpZHRoOiA2NyxcclxuXHRcdFx0aGVpZ2h0OiA1NixcclxuXHRcdFx0eDogb3B0aW9ucy5sZWZ0LFxyXG5cdFx0XHR5OiBvcHRpb25zLmhlaWdodCAtIG9wdGlvbnMuYm90dG9tIC0gNTYsXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5nYW1lT2JqZWN0ID0gey4uLnRoaXMuaW5pdGlhbEdhbWVPYmplY3R9O1xyXG5cclxuXHRcdHRoaXMuanVtcFN0YXJ0ID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBhc3luYyBwcmVsb2FkKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG5cdFx0aWYgKFBsYXllci5hbmltYXRpb25zICE9IG51bGwpIHJldHVybjtcclxuXHJcblx0XHRQbGF5ZXIubG9hZEFuaW1hdGlvbnMoY29udGV4dCk7XHJcblxyXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKFBsYXllci5hbmltYXRpb25zKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0YXdhaXQgUGxheWVyLmFuaW1hdGlvbnNba2V5c1tpXV0ucHJlbG9hZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aXNKdW1waW5nKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuanVtcFN0YXJ0ICE9PSBudWxsICYmIHRoaXMuanVtcERpc3RhbmNlUmVtYWluaW5nKCkgPiAwO1xyXG5cdH07XHJcblxyXG5cdGp1bXBEaXN0YW5jZVJlbWFpbmluZygpIHtcclxuXHRcdGlmICh0aGlzLmp1bXBTdGFydCA9PT0gbnVsbCkgcmV0dXJuIDA7XHJcblx0XHRyZXR1cm4gdGhpcy5qdW1wU3RhcnQgKyBDb25maWcuUGxheWVyLkpVTVBfRElTVEFOQ0UgLSB0aGlzLm9wdGlvbnMuZ2V0T2Zmc2V0KCk7XHJcblx0fTtcclxuXHJcblx0c3RhcnRKdW1wKCkge1xyXG5cdFx0dGhpcy5qdW1wU3RhcnQgPSB0aGlzLm9wdGlvbnMuZ2V0T2Zmc2V0KCk7XHJcblx0fTtcclxuXHJcblx0Z2V0SnVtcEhlaWdodCgpIHtcclxuXHRcdGxldCBkaXN0YW5jZVJlbWFpbmluZyA9IHRoaXMuanVtcERpc3RhbmNlUmVtYWluaW5nKCk7XHJcblxyXG5cdFx0aWYgKGRpc3RhbmNlUmVtYWluaW5nID4gMCkge1xyXG5cdFx0XHRjb25zdCBtYXhQb2ludCA9IENvbmZpZy5QbGF5ZXIuSlVNUF9ESVNUQU5DRSAvIDI7XHJcblxyXG5cdFx0XHRpZiAoZGlzdGFuY2VSZW1haW5pbmcgPj0gbWF4UG9pbnQpIHtcclxuXHRcdFx0XHRkaXN0YW5jZVJlbWFpbmluZyAtPSBDb25maWcuUGxheWVyLkpVTVBfRElTVEFOQ0VcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgYXJjUG9zID0gTWF0aC5hYnMoZGlzdGFuY2VSZW1haW5pbmcgLyBtYXhQb2ludCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gQ29uZmlnLlBsYXllci5KVU1QX0hFSUdIVCAqIGFyY1BvcztcclxuXHRcdH1cclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdGdldFBpeGVsTWFwKCk6IFBpeGVsTWFwIHtcclxuXHRcdHJldHVybiB0aGlzLmdldEN1cnJlbnRBbmltYXRpb24oKS5nZXRQaXhlbE1hcCgpO1xyXG5cdH1cclxuXHJcblx0Z2V0R2FtZU9iamVjdCgpOiBHYW1lT2JqZWN0IHtcclxuXHRcdHJldHVybiB0aGlzLmdhbWVPYmplY3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNhbGN1bGF0ZVBvc2l0aW9uKCkge1xyXG5cdFx0dGhpcy5nYW1lT2JqZWN0LnkgPSB0aGlzLmluaXRpYWxHYW1lT2JqZWN0LnkgLSB0aGlzLmdldEp1bXBIZWlnaHQoKTtcclxuXHR9XHJcblxyXG5cdGdldEN1cnJlbnRBbmltYXRpb24oKTogQ29sbGlkZWFibGVBbmltYXRpb24ge1xyXG5cdFx0aWYgKHRoaXMuaXNKdW1waW5nKCkpXHJcblx0XHRcdHJldHVybiBQbGF5ZXIuYW5pbWF0aW9uc1snanVtcCddO1xyXG5cclxuXHRcdHJldHVybiBQbGF5ZXIuYW5pbWF0aW9uc1sncnVuJ107XHJcblx0fVxyXG5cclxuXHRkcmF3KCkge1xyXG5cdFx0dGhpcy5jYWxjdWxhdGVQb3NpdGlvbigpO1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdH0gPSB0aGlzLm9wdGlvbnM7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdHgsXHJcblx0XHRcdHksXHJcblx0XHRcdGhlaWdodCxcclxuXHRcdFx0d2lkdGgsXHJcblx0XHR9ID0gdGhpcy5nYW1lT2JqZWN0O1xyXG5cclxuXHRcdGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbigpLmdldEltYWdlKCksIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0ZHJhd0NvbGxpZGVycygpIHtcclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdH0gPSB0aGlzLm9wdGlvbnM7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdHgsXHJcblx0XHRcdHksXHJcblx0XHR9ID0gdGhpcy5nYW1lT2JqZWN0O1xyXG5cclxuXHRcdGNvbnRleHQuZmlsbFN0eWxlID0gXCIjZmYwMDAwXCI7XHJcblx0XHRjb25zdCBwaXhlbE1hcDogUGl4ZWxNYXAgPSB0aGlzLmdldFBpeGVsTWFwKCk7XHJcblx0XHRjb25zdCBwaXhlbHM6IEFycmF5PGFueT4gPSB0aGlzLmdldFBpeGVsTWFwKCkuZ2V0UGl4ZWxNYXAoKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBwaXhlbCA9IHBpeGVsc1tpXTtcclxuXHRcdFx0Y29udGV4dC5maWxsUmVjdCh4ICsgcGl4ZWwueCwgeSArIHBpeGVsLnksIHBpeGVsTWFwLmdldFJlc29sdXRpb24oKSwgcGl4ZWxNYXAuZ2V0UmVzb2x1dGlvbigpKTtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQaXhlbE1hcCB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblx0cHJpdmF0ZSByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHJlc29sdXRpb246IG51bWJlcjtcclxuXHRwcml2YXRlIHBpeGVsTWFwOiBBcnJheTxhbnk+O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCByZXNvbHV0aW9uOiBudW1iZXIgPSAzKSB7XHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0dGhpcy5pbWFnZSA9IGltYWdlO1xyXG5cdFx0dGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcclxuXHJcblx0XHR0aGlzLmdlbmVyYXRlKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdlbmVyYXRlKCkge1xyXG5cdFx0Y29uc3QgcGl4ZWxNYXAgPSBbXTtcclxuXHJcblx0XHR0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDAsIHRoaXMuaW1hZ2Uud2lkdGgsIHRoaXMuaW1hZ2UuaGVpZ2h0KTtcclxuXHJcblx0XHRmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaW1hZ2Uud2lkdGg7IHkgPSB5ICsgdGhpcy5yZXNvbHV0aW9uKSB7XHJcblx0XHRcdGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5pbWFnZS5oZWlnaHQ7IHggPSB4ICsgdGhpcy5yZXNvbHV0aW9uKSB7XHJcblx0XHRcdFx0Y29uc3QgcGl4ZWwgPSB0aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKHgsIHksIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcclxuXHJcblx0XHRcdFx0aWYgKHBpeGVsLmRhdGFbM10gIT0gMCkge1xyXG5cdFx0XHRcdFx0cGl4ZWxNYXAucHVzaCh7eDogeCwgeTogeX0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5pbWFnZS53aWR0aCwgdGhpcy5pbWFnZS5oZWlnaHQpO1xyXG5cclxuXHRcdHRoaXMucGl4ZWxNYXAgPSBwaXhlbE1hcDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRQaXhlbE1hcCgpOiBBcnJheTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLnBpeGVsTWFwO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFJlc29sdXRpb24oKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnJlc29sdXRpb247XHJcblx0fVxyXG59IiwiaW1wb3J0IFNwcml0ZSBmcm9tIFwiLi9TcHJpdGVcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9Db25maWdcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uT3B0aW9ucyB7XHJcblx0Y29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG5cdHByZWZpeDogc3RyaW5nLFxyXG5cdG5hbWU6IHN0cmluZyxcclxuXHRsZW5ndGg6IG51bWJlcixcclxuXHRleHRlbnNpb246IHN0cmluZyxcclxuXHRkZWxheTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb24ge1xyXG5cdHByb3RlY3RlZCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblx0cHJvdGVjdGVkIHNwcml0ZXM6IEFycmF5PFNwcml0ZT4gPSBbXTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IGRlbGF5OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBsYXN0VGljazogbnVtYmVyO1xyXG5cdHByb3RlY3RlZCBjdXJyZW50SW1hZ2U6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3Iob3B0aW9uczogQW5pbWF0aW9uT3B0aW9ucykge1xyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHRwcmVmaXgsXHJcblx0XHRcdG5hbWUsXHJcblx0XHRcdGxlbmd0aCxcclxuXHRcdFx0ZXh0ZW5zaW9uLFxyXG5cdFx0XHRkZWxheSxcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdH0gPSBvcHRpb25zO1xyXG5cclxuXHRcdGNvbnN0IHBhdGhQcmVmaXggPSBDb25maWcuQXNzZXRzLkhSRUYgKyAocHJlZml4ID8gYCR7cHJlZml4fS9gIDogJycpICsgbmFtZSArICdfJztcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGxpbmsgPSBwYXRoUHJlZml4ICsgKGkgKyAxKSArICcuJyArIGV4dGVuc2lvbjtcclxuXHJcblx0XHRcdHRoaXMuc3ByaXRlcy5wdXNoKHRoaXMuY3JlYXRlU3ByaXRlKGNvbnRleHQsIGxpbmspKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0dGhpcy5sYXN0VGljayA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdFx0dGhpcy5jdXJyZW50SW1hZ2UgPSAwO1xyXG5cdFx0dGhpcy5kZWxheSA9IGRlbGF5O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNyZWF0ZVNwcml0ZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGxpbms6IHN0cmluZykge1xyXG5cdFx0cmV0dXJuIG5ldyBTcHJpdGUobGluayk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBwcmVsb2FkKCk6IFByb21pc2U8YW55PiB7XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5zcHJpdGVzLm1hcChzcHJpdGUgPT4gc3ByaXRlLnByZWxvYWQoKSkpO1xyXG5cdH1cclxuXHJcblx0Z2V0U3ByaXRlKCkge1xyXG5cdFx0Y29uc3QgbmV3VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuXHRcdGlmICgobmV3VGltZSAtIHRoaXMubGFzdFRpY2spID4gdGhpcy5kZWxheSkge1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRJbWFnZSsrO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuY3VycmVudEltYWdlID4gKHRoaXMuc3ByaXRlcy5sZW5ndGggLSAxKSkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudEltYWdlID0gMDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5sYXN0VGljayA9IG5ld1RpbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbWFnZV07XHJcblx0fVxyXG5cclxuXHRnZXRJbWFnZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldFNwcml0ZSgpLmdldEltYWdlKCk7XHJcblx0fVxyXG59IiwiaW1wb3J0IERyYXdhYmxlT3B0aW9ucyBmcm9tIFwiLi9pbnRlcmZhY2VzL0RyYXdhYmxlT3B0aW9uc1wiO1xyXG5pbXBvcnQgRHJhd2FibGUgZnJvbSBcIi4vaW50ZXJmYWNlcy9EcmF3YWJsZVwiO1xyXG5pbXBvcnQgSGVscGVyIGZyb20gXCIuL0hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFja2dyb3VuZCBpbXBsZW1lbnRzIERyYXdhYmxlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IERyYXdhYmxlT3B0aW9ucztcclxuXHRwcml2YXRlIGJpdHM6IGFueTtcclxuXHRwcml2YXRlIHNpemU6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3Iob3B0aW9uczogRHJhd2FibGVPcHRpb25zKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0dGhpcy5zaXplID0gMjA7XHJcblxyXG5cdFx0dGhpcy5nZW5lcmF0ZUJpdHMoKTtcclxuXHR9XHJcblxyXG5cdGdlbmVyYXRlQml0cygpIHtcclxuXHRcdGxldCBiaXRzID0gW10sIHgsIHk7XHJcblx0XHRjb25zdCB7aGVpZ2h0LCB3aWR0aH0gPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0Zm9yICh5ID0gaGVpZ2h0IC0gMTA7IHkgPD0gaGVpZ2h0OyB5ICs9IDgpIHtcclxuXHRcdFx0Zm9yICh4ID0gMCArIEhlbHBlci5yYW5kKDAsIDEwMCk7IHggPD0gd2lkdGg7IHggKz0gSGVscGVyLnJhbmQoMTAwLCAyMDApKSB7XHJcblx0XHRcdFx0Yml0cy5wdXNoKHtcclxuXHRcdFx0XHRcdHg6IHgsXHJcblx0XHRcdFx0XHR5OiB5LFxyXG5cdFx0XHRcdFx0d2lkdGg6IEhlbHBlci5yYW5kKDIsIDQpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJpdHMgPSBiaXRzO1xyXG5cdH1cclxuXHJcblx0ZHJhdygpIHtcclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0Yml0cyxcclxuXHRcdFx0c2l6ZSxcclxuXHRcdH0gPSB0aGlzO1xyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRnZXRPZmZzZXQsXHJcblx0XHRcdGhlaWdodCxcclxuXHRcdFx0d2lkdGgsXHJcblx0XHR9ID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnRleHQuZmlsbFN0eWxlID0gXCIjRjJEMTZCXCI7XHJcblx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIGhlaWdodCAtIHNpemUsIHdpZHRoLCBzaXplKTtcclxuXHJcblx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzg1NjUwMVwiO1xyXG5cdFx0Y29udGV4dC5maWxsUmVjdCgwLCBoZWlnaHQgLSBzaXplLCB3aWR0aCwgMSk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IGJpdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0Y29udGV4dC5maWxsUmVjdCh3aWR0aCAtICgoYml0c1tpXS54ICsgZ2V0T2Zmc2V0KCkpICUgd2lkdGgpLCBiaXRzW2ldLnksIGJpdHNbaV0ud2lkdGgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImltcG9ydCBEcmF3YWJsZU9wdGlvbnMgZnJvbSBcIi4vaW50ZXJmYWNlcy9EcmF3YWJsZU9wdGlvbnNcIjtcclxuaW1wb3J0IERyYXdhYmxlIGZyb20gXCIuL2ludGVyZmFjZXMvRHJhd2FibGVcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9Db25maWdcIjtcclxuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vaW50ZXJmYWNlcy9HYW1lT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZUJvYXJkIGltcGxlbWVudHMgRHJhd2FibGUge1xyXG5cdHByaXZhdGUgb3B0aW9uczogRHJhd2FibGVPcHRpb25zO1xyXG5cdHByaXZhdGUgZ2FtZU9iamVjdDogR2FtZU9iamVjdDtcclxuXHJcblx0Y29uc3RydWN0b3Iob3B0aW9uczogRHJhd2FibGVPcHRpb25zKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0dGhpcy5nYW1lT2JqZWN0ID0ge1xyXG5cdFx0XHR4OiBvcHRpb25zLndpZHRoIC0gMTAsXHJcblx0XHRcdHk6IG9wdGlvbnMudG9wICsgMTYsXHJcblx0XHRcdHdpZHRoOiA1MCxcclxuXHRcdFx0aGVpZ2h0OiAxNixcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRnZXRTY29yZSgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IodGhpcy5vcHRpb25zLmdldE9mZnNldCgpICogQ29uZmlnLlNjb3JlLkZBQ1RPUik7XHJcblx0fVxyXG5cclxuXHRnZXRTY29yZVRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBTdHJpbmcodGhpcy5nZXRTY29yZSgpKTtcclxuXHR9XHJcblxyXG5cdGRyYXcoKSB7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdGNvbnRleHQsXHJcblx0XHR9ID0gdGhpcy5vcHRpb25zO1xyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHR4LFxyXG5cdFx0XHR5LFxyXG5cdFx0fSA9IHRoaXMuZ2FtZU9iamVjdDtcclxuXHJcblx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xyXG5cdFx0Y29udGV4dC5mb250ID0gXCIxNnB4IENvdXJpZXJcIjtcclxuXHRcdGNvbnRleHQudGV4dEFsaWduID0gXCJyaWdodFwiO1xyXG5cdFx0Y29udGV4dC5maWxsVGV4dCh0aGlzLmdldFNjb3JlVGV4dCgpLCB4LCB5KTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgRHJhd2FibGUgZnJvbSBcIi4vaW50ZXJmYWNlcy9EcmF3YWJsZVwiO1xyXG5pbXBvcnQgRHJhd2FibGVPcHRpb25zIGZyb20gXCIuL2ludGVyZmFjZXMvRHJhd2FibGVPcHRpb25zXCI7XHJcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuL2ludGVyZmFjZXMvR2FtZU9iamVjdFwiO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuL0NvbmZpZ1wiO1xyXG5pbXBvcnQgSGVscGVyIGZyb20gXCIuL0hlbHBlclwiO1xyXG5pbXBvcnQgQ29sbGlkZWFibGVBbmltYXRpb24gZnJvbSBcIi4vQ29sbGlkZWFibGVBbmltYXRpb25cIjtcclxuaW1wb3J0IFBpeGVsTWFwIGZyb20gXCIuL1BpeGVsTWFwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYnN0YWNsZSBpbXBsZW1lbnRzIERyYXdhYmxlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IERyYXdhYmxlT3B0aW9ucztcclxuXHRwcml2YXRlIHJlYWRvbmx5IGluaXRpYWxHYW1lT2JqZWN0OiBHYW1lT2JqZWN0O1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgZ2FtZU9iamVjdDogR2FtZU9iamVjdDtcclxuXHRwcml2YXRlIGFuaW1hdGlvbklkOiBudW1iZXIgPSBNYXRoLnJvdW5kKEhlbHBlci5yYW5kKDAsIE9ic3RhY2xlLmFuaW1hdGlvbnMubGVuZ3RoIC0gMSkpO1xyXG5cdHByaXZhdGUgc3RhdGljIGFuaW1hdGlvbnM6IEFycmF5PENvbGxpZGVhYmxlQW5pbWF0aW9uPiA9IG51bGw7XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGxvYWRBbmltYXRpb25zKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG5cdFx0aWYgKHRoaXMuYW5pbWF0aW9ucyA9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuYW5pbWF0aW9ucyA9IFtcclxuXHRcdFx0XHRuZXcgQ29sbGlkZWFibGVBbmltYXRpb24oe1xyXG5cdFx0XHRcdFx0Y29udGV4dDogY29udGV4dCxcclxuXHRcdFx0XHRcdHByZWZpeDogJ29ic3RhY2xlcycsXHJcblx0XHRcdFx0XHRuYW1lOiAnbWV0ZW9yJyxcclxuXHRcdFx0XHRcdGxlbmd0aDogMixcclxuXHRcdFx0XHRcdGV4dGVuc2lvbjogJ3BuZycsXHJcblx0XHRcdFx0XHRkZWxheTogMjUwLFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3Iob3B0aW9uczogRHJhd2FibGVPcHRpb25zKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cdFx0dGhpcy5pbml0aWFsR2FtZU9iamVjdCA9IHtcclxuXHRcdFx0d2lkdGg6IDI1LFxyXG5cdFx0XHRoZWlnaHQ6IDM0LFxyXG5cdFx0XHR4OiBvcHRpb25zLndpZHRoICsgb3B0aW9ucy5nZXRPZmZzZXQoKSArIChvcHRpb25zLmxlZnQgfHwgMCkgKyBDb25maWcuR2FtZS5TQ1JFRU5fQlVGRkVSLFxyXG5cdFx0XHR5OiBvcHRpb25zLmhlaWdodCAtIG9wdGlvbnMuYm90dG9tIC0gNDAsXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5nYW1lT2JqZWN0ID0gey4uLnRoaXMuaW5pdGlhbEdhbWVPYmplY3R9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGFzeW5jIHByZWxvYWQoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcblx0XHRpZiAoT2JzdGFjbGUuYW5pbWF0aW9ucyAhPSBudWxsKSByZXR1cm47XHJcblxyXG5cdFx0T2JzdGFjbGUubG9hZEFuaW1hdGlvbnMoY29udGV4dCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBPYnN0YWNsZS5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGF3YWl0IE9ic3RhY2xlLmFuaW1hdGlvbnNbaV0ucHJlbG9hZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0R2FtZU9iamVjdCgpOiBHYW1lT2JqZWN0IHtcclxuXHRcdHJldHVybiB0aGlzLmdhbWVPYmplY3Q7XHJcblx0fVxyXG5cclxuXHRnZXRQaXhlbE1hcCgpOiBQaXhlbE1hcCB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDdXJyZW50QW5pbWF0aW9uKCkuZ2V0UGl4ZWxNYXAoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2FsY3VsYXRlUG9zaXRpb24oKSB7XHJcblx0XHR0aGlzLmdhbWVPYmplY3QueCA9IHRoaXMuaW5pdGlhbEdhbWVPYmplY3QueCAtIHRoaXMub3B0aW9ucy5nZXRPZmZzZXQoKTtcclxuXHR9XHJcblxyXG5cdGdldEN1cnJlbnRBbmltYXRpb24oKTogQ29sbGlkZWFibGVBbmltYXRpb24ge1xyXG5cdFx0cmV0dXJuIE9ic3RhY2xlLmFuaW1hdGlvbnNbdGhpcy5hbmltYXRpb25JZF07XHJcblx0fVxyXG5cclxuXHRkcmF3KCkge1xyXG5cdFx0dGhpcy5jYWxjdWxhdGVQb3NpdGlvbigpO1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdH0gPSB0aGlzLm9wdGlvbnM7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdHgsXHJcblx0XHRcdHksXHJcblx0XHRcdGhlaWdodCxcclxuXHRcdFx0d2lkdGgsXHJcblx0XHR9ID0gdGhpcy5nYW1lT2JqZWN0O1xyXG5cclxuXHRcdGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbigpLmdldEltYWdlKCksIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0ZHJhd0NvbGxpZGVycygpIHtcclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdH0gPSB0aGlzLm9wdGlvbnM7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdHgsXHJcblx0XHRcdHksXHJcblx0XHR9ID0gdGhpcy5nYW1lT2JqZWN0O1xyXG5cclxuXHRcdGNvbnRleHQuZmlsbFN0eWxlID0gXCIjMDBmZjAwXCI7XHJcblx0XHRjb25zdCBwaXhlbE1hcDogUGl4ZWxNYXAgPSB0aGlzLmdldFBpeGVsTWFwKCk7XHJcblx0XHRjb25zdCBwaXhlbHM6IEFycmF5PGFueT4gPSB0aGlzLmdldFBpeGVsTWFwKCkuZ2V0UGl4ZWxNYXAoKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBwaXhlbCA9IHBpeGVsc1tpXTtcclxuXHRcdFx0Y29udGV4dC5maWxsUmVjdCh4ICsgcGl4ZWwueCwgeSArIHBpeGVsLnksIHBpeGVsTWFwLmdldFJlc29sdXRpb24oKSwgcGl4ZWxNYXAuZ2V0UmVzb2x1dGlvbigpKTtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCJpbXBvcnQgTWFwIGZyb20gXCIuL2ludGVyZmFjZXMvTWFwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlIYW5kbGVyIHtcclxuXHRwcml2YXRlIHByZXNzZWRLZXlzOiBNYXA8bnVtYmVyLCBib29sZWFuPjtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnByZXNzZWRLZXlzID0ge307XHJcblxyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4gdGhpcy5vbktleVVwKGUpLCBmYWxzZSk7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHRoaXMub25LZXlEb3duKGUpLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9uS2V5RG93bihlKSB7XHJcblx0XHR0aGlzLnByZXNzZWRLZXlzW2Uua2V5Q29kZV0gPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvbktleVVwKGUpIHtcclxuXHRcdHRoaXMucHJlc3NlZEtleXNbZS5rZXlDb2RlXSA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzS2V5UHJlc3NlZChrZXlDb2RlOiBudW1iZXIpIHtcclxuXHRcdHJldHVybiAodHlwZW9mIHRoaXMucHJlc3NlZEtleXNba2V5Q29kZV0gIT09ICd1bmRlZmluZWQnKSAmJiB0aGlzLnByZXNzZWRLZXlzW2tleUNvZGVdO1xyXG5cdH1cclxuXHJcbn0iLCJpbXBvcnQgRHJhd2FibGVPcHRpb25zIGZyb20gXCIuL2ludGVyZmFjZXMvRHJhd2FibGVPcHRpb25zXCI7XHJcbmltcG9ydCBEcmF3YWJsZSBmcm9tIFwiLi9pbnRlcmZhY2VzL0RyYXdhYmxlXCI7XHJcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuL2ludGVyZmFjZXMvR2FtZU9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmVCb2FyZCBpbXBsZW1lbnRzIERyYXdhYmxlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IERyYXdhYmxlT3B0aW9ucztcclxuXHRwcml2YXRlIHJlYWRvbmx5IGdhbWVPYmplY3Q6IEdhbWVPYmplY3Q7XHJcblx0cHJpdmF0ZSBsYXN0Q2FsbGVkVGltZTogbnVtYmVyO1xyXG5cdHByaXZhdGUgZnBzOiBudW1iZXIgPSAwO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihvcHRpb25zOiBEcmF3YWJsZU9wdGlvbnMpIHtcclxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcblx0XHR0aGlzLmdhbWVPYmplY3QgPSB7XHJcblx0XHRcdHg6IDEwLFxyXG5cdFx0XHR5OiBvcHRpb25zLnRvcCArIDE2LFxyXG5cdFx0XHR3aWR0aDogNTAsXHJcblx0XHRcdGhlaWdodDogMTYsXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cmVmcmVzaCgpIHtcclxuXHRcdGlmICghdGhpcy5sYXN0Q2FsbGVkVGltZSkge1xyXG5cdFx0XHR0aGlzLmxhc3RDYWxsZWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdHRoaXMuZnBzID0gMDtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRlbHRhID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5sYXN0Q2FsbGVkVGltZSkgLyAxMDAwO1xyXG5cdFx0dGhpcy5sYXN0Q2FsbGVkVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdFx0dGhpcy5mcHMgPSAxIC8gZGVsdGE7XHJcblx0fVxyXG5cclxuXHRkcmF3KCkge1xyXG5cdFx0Y29uc3Qge2NvbnRleHR9ID0gdGhpcy5vcHRpb25zO1xyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHR4LFxyXG5cdFx0XHR5LFxyXG5cdFx0fSA9IHRoaXMuZ2FtZU9iamVjdDtcclxuXHJcblx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xyXG5cdFx0Y29udGV4dC5mb250ID0gXCI5cHggQXJpYWxcIjtcclxuXHRcdGNvbnRleHQudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcblx0XHRjb250ZXh0LmZpbGxUZXh0KE1hdGgucm91bmQodGhpcy5mcHMpICsgXCIgZnBzXCIsIHgsIHkpO1xyXG5cdH1cclxufSIsImltcG9ydCBQaXhlbE1hcCBmcm9tIFwiLi9QaXhlbE1hcFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGlzaW9uIHtcclxuXHRzdGF0aWMgYm94VGVzdChzb3VyY2U6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH0sXHJcblx0XHRcdFx0XHRcdFx0XHQgdGFyZ2V0OiB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9KSB7XHJcblx0XHQvKiBTb3VyY2UgYW5kIHRhcmdldCBvYmplY3RzIGNvbnRhaW4geCwgeSBhbmQgd2lkdGgsIGhlaWdodCAqL1xyXG5cdFx0cmV0dXJuICEoXHJcblx0XHRcdCgoc291cmNlLnkgKyBzb3VyY2UuaGVpZ2h0KSA8ICh0YXJnZXQueSkpIHx8XHJcblx0XHRcdChzb3VyY2UueSA+ICh0YXJnZXQueSArIHRhcmdldC5oZWlnaHQpKSB8fFxyXG5cdFx0XHQoKHNvdXJjZS54ICsgc291cmNlLndpZHRoKSA8IHRhcmdldC54KSB8fFxyXG5cdFx0XHQoc291cmNlLnggPiAodGFyZ2V0LnggKyB0YXJnZXQud2lkdGgpKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyB0ZXN0KHNvdXJjZTogUGl4ZWxNYXAsIHNvdXJjZVBvczogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9LFxyXG5cdFx0XHRcdFx0XHRcdHRhcmdldDogUGl4ZWxNYXAsIHRhcmdldFBvczogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9KSB7XHJcblx0XHRjb25zdCBzb3VyY2VNYXAgPSBzb3VyY2UuZ2V0UGl4ZWxNYXAoKTtcclxuXHRcdGNvbnN0IHNvdXJjZVJlc29sdXRpb24gPSBzb3VyY2UuZ2V0UmVzb2x1dGlvbigpO1xyXG5cdFx0Y29uc3QgdGFyZ2V0TWFwID0gdGFyZ2V0LmdldFBpeGVsTWFwKCk7XHJcblx0XHRjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0LmdldFJlc29sdXRpb24oKTtcclxuXHJcblx0XHRmb3IgKGxldCBzID0gMDsgcyA8IHNvdXJjZU1hcC5sZW5ndGg7IHMrKykge1xyXG5cdFx0XHRjb25zdCBzb3VyY2VQaXhlbCA9IHNvdXJjZU1hcFtzXTtcclxuXHRcdFx0Ly8gQWRkIHBvc2l0aW9uaW5nIG9mZnNldFxyXG5cdFx0XHRjb25zdCBzb3VyY2VBcmVhID0ge1xyXG5cdFx0XHRcdHg6IHNvdXJjZVBpeGVsLnggKyBzb3VyY2VQb3MueCxcclxuXHRcdFx0XHR5OiBzb3VyY2VQaXhlbC55ICsgc291cmNlUG9zLnksXHJcblx0XHRcdFx0d2lkdGg6IHRhcmdldFJlc29sdXRpb24sXHJcblx0XHRcdFx0aGVpZ2h0OiB0YXJnZXRSZXNvbHV0aW9uLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgcGl4ZWxzIGluIHRoZSB0YXJnZXQgaW1hZ2VcclxuXHRcdFx0Zm9yIChsZXQgdCA9IDA7IHQgPCB0YXJnZXRNYXAubGVuZ3RoOyB0KyspIHtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXRQaXhlbCA9IHRhcmdldE1hcFt0XTtcclxuXHRcdFx0XHQvLyBBZGQgcG9zaXRpb25pbmcgb2Zmc2V0XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0QXJlYSA9IHtcclxuXHRcdFx0XHRcdHg6IHRhcmdldFBpeGVsLnggKyB0YXJnZXRQb3MueCxcclxuXHRcdFx0XHRcdHk6IHRhcmdldFBpeGVsLnkgKyB0YXJnZXRQb3MueSxcclxuXHRcdFx0XHRcdHdpZHRoOiB0YXJnZXRSZXNvbHV0aW9uLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiB0YXJnZXRSZXNvbHV0aW9uLFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8qIFVzZSB0aGUgZWFybGllciBhZm9yZW1lbnRpb25lZCBoaXRib3ggZnVuY3Rpb24gKi9cclxuXHRcdFx0XHRpZiAoQ29sbGlzaW9uLmJveFRlc3Qoc291cmNlQXJlYSwgdGFyZ2V0QXJlYSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=